Version 4
SHEET 1 5432 6228
WIRE 2768 1568 2768 1520
WIRE 2960 1568 2960 1520
WIRE 2560 1584 2560 1520
WIRE 2864 1616 2832 1616
WIRE 2896 1616 2864 1616
WIRE 3184 1648 3184 1600
WIRE 2560 1696 2560 1664
WIRE 2768 1696 2768 1664
WIRE 2864 1696 2864 1616
WIRE 2864 1696 2768 1696
WIRE 2960 1696 2960 1664
WIRE 3120 1696 2960 1696
WIRE 2768 1744 2768 1696
WIRE 2960 1744 2960 1696
WIRE 2704 1792 2528 1792
WIRE 3488 1792 3488 1744
WIRE 3488 1792 3024 1792
WIRE 2640 1856 2640 1824
WIRE 2768 1872 2768 1840
WIRE 2960 1872 2960 1840
WIRE 2960 1872 2768 1872
WIRE 3184 1872 3184 1744
WIRE 3296 1872 3184 1872
WIRE 3360 1872 3296 1872
WIRE 3488 1872 3488 1792
WIRE 3488 1872 3440 1872
WIRE 3568 1872 3488 1872
WIRE 3696 1872 3696 1824
WIRE 3696 1872 3648 1872
WIRE 3696 1936 3696 1872
WIRE 2640 2000 2640 1936
WIRE 2736 2000 2640 2000
WIRE 3072 2000 2736 2000
WIRE 2640 2032 2640 2000
WIRE 2960 2032 2960 1872
WIRE 3184 2032 3184 1872
WIRE 3696 2032 3696 2000
WIRE 2736 2080 2736 2000
WIRE 2736 2080 2704 2080
WIRE 2896 2080 2736 2080
WIRE 3072 2080 3072 2000
WIRE 3120 2080 3072 2080
WIRE 3792 2128 3648 2128
WIRE 2640 2144 2640 2128
WIRE 2960 2144 2960 2128
WIRE 3184 2144 3184 2128
WIRE 3792 2176 3792 2128
WIRE 3648 2192 3648 2128
WIRE 2640 2240 2640 2224
WIRE 2960 2240 2960 2224
WIRE 3184 2240 3184 2224
WIRE 3648 2288 3648 2256
WIRE 3792 2288 3792 2256
WIRE 2528 2352 2528 1792
WIRE 3200 2352 2528 2352
WIRE 3488 2352 3488 1872
WIRE 3712 2352 3488 2352
WIRE 2640 2448 2640 2416
WIRE 2752 2448 2752 2416
WIRE 3392 2464 3392 2416
WIRE 3584 2464 3584 2416
WIRE 3104 2496 3104 2448
WIRE 3488 2512 3456 2512
WIRE 3520 2512 3488 2512
WIRE 3792 2528 3792 2480
WIRE 2640 2544 2640 2528
WIRE 2752 2544 2752 2512
WIRE 2752 2544 2640 2544
WIRE 2816 2544 2752 2544
WIRE 2928 2544 2896 2544
WIRE 3040 2544 2928 2544
WIRE 2640 2560 2640 2544
WIRE 2928 2576 2928 2544
WIRE 3392 2592 3392 2560
WIRE 3488 2592 3488 2512
WIRE 3488 2592 3392 2592
WIRE 3104 2624 3104 2592
WIRE 3104 2624 3008 2624
WIRE 3200 2624 3200 2352
WIRE 3584 2624 3584 2560
WIRE 3584 2624 3200 2624
WIRE 3792 2624 3792 2608
WIRE 3792 2624 3584 2624
WIRE 3008 2656 3008 2624
WIRE 3392 2656 3392 2592
WIRE 3584 2656 3584 2624
WIRE 2928 2672 2928 2640
WIRE 3792 2672 3792 2624
WIRE 2640 2688 2640 2640
WIRE 3104 2704 3104 2624
WIRE 3200 2704 3200 2672
WIRE 3296 2704 3296 1872
WIRE 3328 2704 3296 2704
WIRE 3712 2704 3712 2352
WIRE 3712 2704 3648 2704
WIRE 2528 2736 2528 2352
WIRE 2576 2736 2528 2736
WIRE 3008 2752 3008 2720
WIRE 3392 2784 3392 2752
WIRE 3584 2784 3584 2752
WIRE 3584 2784 3392 2784
WIRE 3792 2784 3792 2752
WIRE 3104 2816 3104 2784
WIRE 3200 2816 3200 2784
WIRE 3200 2816 3104 2816
WIRE 2640 2832 2640 2784
WIRE 3104 2832 3104 2816
WIRE 3584 2832 3584 2784
WIRE 3200 2880 3200 2816
WIRE 3200 2880 3168 2880
WIRE 3520 2880 3200 2880
WIRE 3104 2944 3104 2928
WIRE 3584 2944 3584 2928
WIRE 3104 3040 3104 3024
WIRE 3584 3040 3584 3024
FLAG 2560 1696 0
FLAG 2560 1520 COM
FLAG 3696 2032 0
FLAG 3696 1824 ANT
FLAG 3648 2288 0
FLAG 3792 2288 0
FLAG 2640 2240 0
FLAG 2960 2240 0
FLAG 3488 1744 DRIVE
FLAG 2768 1520 COM
FLAG 2960 1520 COM
FLAG 3184 2240 0
FLAG 3184 1600 COM
FLAG 2640 1824 COM
FLAG 3104 3040 0
FLAG 3584 3040 0
FLAG 3792 2784 0
FLAG 3792 2480 COM
FLAG 3200 2672 COM
FLAG 3392 2416 COM
FLAG 3584 2416 COM
FLAG 2640 2832 0
FLAG 2640 2416 COM
FLAG 2752 2416 COM
FLAG 2928 2672 0
FLAG 3104 2448 COM
FLAG 3008 2752 0
SYMBOL voltage 2560 1568 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 4.5
SYMBOL ind 3552 1888 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 2mH
SYMATTR SpiceLine Ipk=100m Rser=20 Rpar=10Meg Cpar=1pF
SYMBOL cap 3680 1936 R0
SYMATTR InstName C_ant1
SYMATTR Value 8pF
SYMBOL cap 3632 2192 R0
SYMATTR InstName C_hand1
SYMATTR Value 300pF
SYMBOL res 3776 2160 R0
WINDOW 0 36 40 Left 2
WINDOW 3 36 76 Left 2
SYMATTR InstName R_hand1
SYMATTR Value 100k
SYMBOL npn 3024 1744 M0
SYMATTR InstName Q2
SYMATTR Value 2N3904
SYMBOL npn 2704 1744 R0
SYMATTR InstName Q1
SYMATTR Value 2N3904
SYMBOL pnp 2896 1664 M180
SYMATTR InstName Q4
SYMATTR Value 2N3906
SYMBOL pnp 2832 1664 R180
WINDOW 0 55 34 Left 2
WINDOW 3 52 68 Left 2
SYMATTR InstName Q3
SYMATTR Value 2N3906
SYMBOL npn 2704 2032 M0
SYMATTR InstName Q11
SYMATTR Value 2N3904
SYMBOL npn 2896 2032 R0
SYMATTR InstName Q12
SYMATTR Value 2N3904
SYMBOL res 2624 2128 R0
WINDOW 0 36 40 Left 2
WINDOW 3 36 76 Left 2
SYMATTR InstName R3
SYMATTR Value 22
SYMBOL res 2944 2128 R0
WINDOW 0 36 40 Left 2
WINDOW 3 36 76 Left 2
SYMATTR InstName R4
SYMATTR Value 100
SYMBOL npn 3120 2032 R0
SYMATTR InstName Q13
SYMATTR Value 2N3904
SYMBOL res 3168 2128 R0
WINDOW 0 36 40 Left 2
WINDOW 3 36 76 Left 2
SYMATTR InstName R5
SYMATTR Value 1
SYMBOL npn 3120 1648 R0
SYMATTR InstName Q34
SYMATTR Value 2N3904
SYMBOL res 2624 1840 R0
WINDOW 0 36 40 Left 2
WINDOW 3 36 76 Left 2
SYMATTR InstName R27
SYMATTR Value 1k
SYMBOL npn 3648 2656 M0
SYMATTR InstName Q6
SYMATTR Value 2N3904
SYMBOL npn 3328 2656 R0
SYMATTR InstName Q5
SYMATTR Value 2N3904
SYMBOL npn 3168 2832 M0
SYMATTR InstName Q14
SYMATTR Value 2N3904
SYMBOL npn 3520 2832 R0
SYMATTR InstName Q15
SYMATTR Value 2N3904
SYMBOL res 3088 2928 R0
WINDOW 0 36 40 Left 2
WINDOW 3 36 76 Left 2
SYMATTR InstName R6
SYMATTR Value 33
SYMBOL res 3568 2928 R0
WINDOW 0 36 40 Left 2
WINDOW 3 36 76 Left 2
SYMATTR InstName R7
SYMATTR Value 1
SYMBOL res 3776 2656 R0
WINDOW 0 36 40 Left 2
WINDOW 3 36 76 Left 2
SYMATTR InstName R2
SYMATTR Value 470
SYMBOL res 3776 2512 R0
WINDOW 0 36 40 Left 2
WINDOW 3 36 76 Left 2
SYMATTR InstName R1
SYMATTR Value 470
SYMBOL res 3184 2688 R0
WINDOW 0 36 40 Left 2
WINDOW 3 36 76 Left 2
SYMATTR InstName R9
SYMATTR Value 33k
SYMBOL res 3456 1856 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R_sense
SYMATTR Value 4.7
SYMBOL pnp 3520 2560 M180
SYMATTR InstName Q8
SYMATTR Value 2N3906
SYMBOL pnp 3456 2560 R180
WINDOW 0 55 34 Left 2
WINDOW 3 52 68 Left 2
SYMATTR InstName Q7
SYMATTR Value 2N3906
SYMBOL pnp 2576 2784 M180
SYMATTR InstName Q9
SYMATTR Value 2N3906
SYMBOL res 2624 2544 R0
WINDOW 0 36 40 Left 2
WINDOW 3 36 76 Left 2
SYMATTR InstName R11
SYMATTR Value 100
SYMBOL res 2624 2432 R0
WINDOW 0 36 40 Left 2
WINDOW 3 36 76 Left 2
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL cap 2736 2448 R0
SYMATTR InstName C1
SYMATTR Value 10nF
SYMBOL cap 2912 2576 R0
SYMATTR InstName C2
SYMATTR Value 1nF
SYMBOL res 2912 2528 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 4.7k
SYMBOL res 3088 2688 R0
WINDOW 0 36 40 Left 2
WINDOW 3 36 76 Left 2
SYMATTR InstName R8
SYMATTR Value 470
SYMBOL npn 3040 2496 R0
SYMATTR InstName Q10
SYMATTR Value 2N3904
SYMBOL cap 2992 2656 R0
SYMATTR InstName C16
SYMATTR Value 10nF
TEXT 2600 2976 Left 2 !.tran 0 2m 1n 1n
TEXT 2600 3016 Left 2 !.ic I(L1)=0.001mA
TEXT 3592 2088 Left 2 ;touch simulation
TEXT 2800 1528 Left 2 ;DRIVE OTA
TEXT 3424 2424 Left 2 ;SENSE OTA
TEXT 3424 1536 Left 2 ;Current Sensing Oscillator
TEXT 2832 2432 Left 2 ;Envelope detector
TEXT 2904 2808 Left 2 ;Gain control
